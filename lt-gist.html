<!DOCTYPE html>
<head>
<html>
<meta charset="utf-8">
<title> LightTable Arch </title>
<meta name="viewport" content="width=960,initial-scale=1">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
<meta http-equiv="Pragma" content="no-cache"/>
<meta http-equiv="Expires" content="0"/>

  <script src="/vendor/jquery/dist/jquery.min.js"></script>
  <script src="/js/bundle.min.js"></script>
  <link rel="stylesheet" href="/css/styles.less.min.css">

</head>
<body>

<!--[if lt IE 8]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->


<nav>
<h1>Harsha <a href="http://www.foobar.systems"><img src="/images/floppy.png" width="33" height="33"/></a> Mr. Foo Bar (‸‶</h1>
<a href="/">Index</a>
<a href="/disclaimer.html"><b>DISCLAIMER</b></a>
<br>
<a href="/soldiers-of-death">Soldiers Of Death (My Book)</a>
<br>
<a href="https://flattr.com/submit/auto?user_id=harsha_mudi&url=http%3A%2F%2Flexical.foobar.systems" target="_blank"><img src="//api.flattr.com/button/flattr-badge-large.png" alt="Flattr this" title="Flattr this" border="0"></a>
<br>
<br>
<a href="https://stackoverflow.com/users/1117082/mr-foobar"><img src="/images/so.png" width="33" height="33"/></a>
<a href="https://github.com/harsha-mudi"><img src="/images/gh.png" width="33" height="33"/></a>
<a href="https://www.npmjs.org/~harsha-mudi"><img src="https://www.npmjs.com/static/images/npm-logo.svg" width="55" height="33"/></a>
<a href="https://metacpan.org/author/MUCKER"><img src="/images/mp.jpg" width="33" height="33"/></a>
<a href="https://rubygems.org/profiles/mr-foobar"><img src="/images/ruby.png" width="33" height="33"/></a>
<a href="https://pay.reddit.com/user/rm-foobar"><img src="/images/r.jpg" width="33" height="33"/></a>
<a href="https://twitter.com/harsha_mudi"><img src="/images/tw.png" width="33" height="33"/></a>
<a href="https://soundcloud.com/mr-foobar"><img src="/images/sc.png" width="33" height="33"/></a>
<a href="https://vimeo.com/mrfoobar"><img src="/images/vm.png" width="33" height="33"/></a>
<a href="https://mrfoobar.bandcamp.com/"><img src="/images/bc.png" width="33" height="33"/></a>
</nav>




<h2>LightTable Arch</h2>
<div class="lineno"></div>

<article class="post">LightTable follows Behavior Object model(BOT), which itself is inspired from
<a href="http://entity-systems.wikidot.com/">Entity Systems model</a>(ES).

In a typical OOP + GUI program we abuse the Observer Pattern and harcode most of the design
and Event types.

With BOT/ES the design is stored as an in-memory data structure,
the event-listeners(behaviors) are stored as metadata and
the events themselves are generated on the fly.

Every datum is identified by a unique ID and is typically struct-ish.

This means, the entire program can be extended runtime.

In LT,

* object/create makes a new datum. Each datum stores behavior names.
* object/raise triggers events with payload.
* behavior macro stores "event(s) <-> reaction" mapping. Reaction receives the payload.
* object/update, object/merge manages the in-memory data structure.

LightTable is built on node.js so, most of the *actual work* is done by the node.js library wrappers in reactions.
The ordering of the events, is mostly on a first-come basis. Think list iterations.

An alternate way of looking at this model is imagining a Relational Database + Stored Procedures.

<b>Can this model be applied for client side applications, as an alternate to Backbone.js ?</b>

Consider a TODO list,

Name -- Data Structure :: [Behaviors]
=====================================

item -- Hash :: [view, add, remove, update, list]

Event -- Behaviors :: Notes
===========================

* $() -- list
* todos.show - list
* add-button-click + data payload -- add :: add, after object/create triggers todos.show
* remove-button-click + id palyload -- remove :: remove, after object/remove triggers "
* save-button-click + add payload --  update
* todo-clicked -- view

<b>What about GUI ?</b>
By dividing the behaviors carefully, GUI can be separated from the NON-GUI.
LT uses hiccup to generate HTML, making GUI another runtime convinience.</article>
<div style="height:22px; clear: both">
&nbsp;
</div>
<h2 class="blue"><a href="https://github.com/harsha-mudi/lexical-tasklists/issues"><b>issues</b></a></h2>
<h2>see also:</h2>
<div>

    
        <h4><a href="/tags/programming.html">programming</a><br></h4>
    

    
        <h4><a href="/tags/clojure.html">clojure</a><br></h4>
    

    
        <h4><a href="/tags/future.html">future</a></h4>
    

</div>

<div style="height:55px; clear: both">
&nbsp;
</div>
<div style="text-align: center">CC BY-NC 2014 foobar</div>
</body>
</html>
